# 배열의 누적합 & 부분합

## 필요성

크기가 정해진 1차원 배열 혹은 2차원 배열 상에서 값들이 존재한다.

어느 특정 인덱스 i 부터 j 까지의 구역에 값의 변화가 생기는 경우, 간단한 방법으로 반복문을 이용하여 해당 인덱스의 값들을 변화 시킬 수 있다.

위의 방법은 가장 단순하지만, 배열의 크기가 거대해지고 값이 변하는 경우가 무수히 많으면 배열 크기 혹은 구역만큼의 반복을 계속해서 돌아야 하기 때문에 시간복잡도가 증가한다. 

따라서 배열의 누적합을 이용하면 특정 부분의 합을 빠르게 구해낼 수 있다.

<br>

---

## 1차원 배열

배열 arr의 현재 인덱스가 idx일때, arr[idx] 의 누적합은 arr[idx-1] + arr[idx] 이다.

그래서 arr의 0번 인덱스를 0의 값을 추가해주면 누적합을 구하기 수월해진다. (인덱스 관리 용이)

<br>

배열 arr 의 모습

| 1    | 3    | 5    | 9    | -1   | 3    |
| ---- | ---- | ---- | ---- | ---- | ---- |

<br>

배열 arr 의 누적합

| 0    | 1               | 4               | 9               | 18              | 17              | 20              |
| ---- | --------------- | --------------- | --------------- | --------------- | --------------- | --------------- |
|      | arr[0] + arr[1] | arr[1] + arr[2] | arr[2] + arr[3] | arr[3] + arr[4] | arr[4] + arr[5] | arr[5] + arr[6] |

<br>

## 2차원 배열

초기에 모든 값이 0인 2차원 배열을 생성한다. (인덱스와 계산의 편의성을 위해 가로와 세로의 크기를 1씩 늘려서 생성)

2차원 배열에서 4개의 모서리의 좌표값을 알아내고, 그 좌표에 변화하는 값을 추가해준다.

![](/Users/leeunho/Desktop/TIL/Image.assets/Algorithm_&_Solution/Algorithm/accumulate_sum.png)

이미지 출처 - 하단 참고 [노션1](https://driip.me/65d9b58c-bf02-44bf-8fba-54d394ed21e0)



2차원 배열 arr의 좌표 r, c 의 누적합은 arr\[r]\[c] = arr\[r][c] + arr\[r-1][c] + arr\[r]\[c-1] - arr\[r-1]\[c-1] 이다.

한글로 표현 ->  현재 위치의 누적합 = 현재 위치의 값 + 왼쪽 좌표의 누적합 + 위 좌표의 누적합 - 왼쪽 모서리의 누적합이다.

---

참고

[블로그1](https://eine.tistory.com/entry/2차원-누적합-부분합-구하기)

[노션1](https://driip.me/65d9b58c-bf02-44bf-8fba-54d394ed21e0)

